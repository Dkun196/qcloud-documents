负载均衡 CLB 提供四层（TCP协议/UDP协议/TCP SSL协议）和七层（HTTP协议/HTTPS协议）负载均衡。您可以通过 CLB 将业务流量分发到多个后端服务器上，消除单点故障并保障业务可用性。CLB 自身采用集群部署，可实现会话同步，消除服务器单点，提升冗余，保证服务稳定，可在同一个地域部署多个机房，实现同城容灾。

## 基础架构
腾讯云负载均衡当前提供四层和七层的负载均衡服务。
- 四层基于腾讯自研的统一接入网关（Tencent Gateway，TGW）来提供自动负载均衡，具有可靠性高、扩展性强、性能高、抗攻击能力强等特点，可实现大规模的并发访问。
- 七层采用 Secure Tencent Gateway（STGW）实现负载均衡，STGW 是腾讯基于 Nginx 自研的支持大规模并发的七层负载均衡服务。
![](https://main.qcloudimg.com/raw/b2bbbd641a6a1d5793c8e45cb22a2066.png)

## 转发路径
负载均衡负责转发业务流量，由后端服务实际处理业务请求。四层和七层负载均衡的转发路径如下图所示：
![](https://main.qcloudimg.com/raw/188179d44c7d8f8227615060d75670e1.png)
1. 所有四层和七层协议都经过 TGW 集群。
2. 四层协议
 - TCP/UDP 协议（对应 CLB 中的 TCP/UDP 监听器）由 TGW 集群处理转发逻辑，TGW 支持 DPDK 高性能转发，单集群可支持亿级并发、千万级 PPS。
 - TCP SSL 协议（对应 CLB 中的 TCP SSL 监听器）由 TGW 集群处理转发逻辑，由 STGW 处理 SSL 卸载。
3. 七层协议
 - HTTP/HTTPS 协议（对应 CLB 中的 HTTP/HTTPS/TCP SSL 监听器）中，业务流量会先经过 TGW，而后由 STGW 来识别 HTTP 协议并转发给后端服务。
 - 处理 HTTPS 协议时，STGW 会对 HTTPS 请求进行卸载，也就是完成 SSL 握手及应用层内容的解密，将 HTTPS 转换成 HTTP 协议，再按照分流配置转发给后端服务。
